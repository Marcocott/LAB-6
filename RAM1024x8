library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;
use std.textio.all;

entity RAM1024x8 is
	
	port(Address: in std_logic_vector(9 downto 0);
	Data_in: in SIGNED(7 downto 0);
	CS, RD_WRn, Clk: in std_logic;
	Data_out: out SIGNED(7 downto 0));
	
end entity RAM1024x8;

architecture Behavior of RAM1024x8 is

type ram_array is array (0 to 2**9) of SIGNED(7 downto 0);
signal mem: ram_array;

begin
p0: PROCESS (clk) is
	BEGIN
	if clk = '1' and clk'event then
		if CS = '1' then
			if RD_WRn = '0' then mem(to_integer(unsigned(Address))) <= Data_in; 
			else Data_out <= mem(to_integer(unsigned(Address))); end if;
		--else CHE SE FA?
		end if;
	end if;
END PROCESS p0;

end architecture Behavior;
